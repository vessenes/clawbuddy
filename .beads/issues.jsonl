{"id":"clawbuddy-1zl","title":"mailbox.py — HTTP client for Cloudflare Worker API","description":"httpx-based async client for mailbox REST API. Endpoints: PUT /channel/:id/handshake, GET /channel/:id/handshake, POST /channel/:id/messages, GET /channel/:id/messages, DELETE /channel/:id/messages/:seq. Functions: post_handshake, get_handshake, post_message, get_messages, delete_message. Takes mailbox_url from config.","status":"closed","priority":1,"issue_type":"task","owner":"peter@vessenes.com","created_at":"2026-02-10T15:33:54.859877-08:00","created_by":"PV","updated_at":"2026-02-10T15:42:25.493035-08:00","closed_at":"2026-02-10T15:42:25.493035-08:00","close_reason":"All modules implemented and importing cleanly. Crypto roundtrip verified. Worker written with KV routes.","dependencies":[{"issue_id":"clawbuddy-1zl","depends_on_id":"clawbuddy-hiy","type":"blocks","created_at":"2026-02-10T15:34:21.093339-08:00","created_by":"PV"}]}
{"id":"clawbuddy-c6l","title":"crypto.py — keypair generation, encrypt/decrypt","description":"X25519 keypair gen via PyNaCl. Functions: generate_keypair() -\u003e (privkey, pubkey), encrypt(plaintext, my_private, their_public) -\u003e ciphertext, decrypt(ciphertext, my_private, their_public) -\u003e plaintext. Use nacl.public.PrivateKey, nacl.public.Box. Keys stored/transmitted as base64. Nonce auto-generated per message.","status":"closed","priority":1,"issue_type":"task","owner":"peter@vessenes.com","created_at":"2026-02-10T15:33:47.425412-08:00","created_by":"PV","updated_at":"2026-02-10T15:42:25.487415-08:00","closed_at":"2026-02-10T15:42:25.487415-08:00","close_reason":"All modules implemented and importing cleanly. Crypto roundtrip verified. Worker written with KV routes.","dependencies":[{"issue_id":"clawbuddy-c6l","depends_on_id":"clawbuddy-hiy","type":"blocks","created_at":"2026-02-10T15:34:20.831223-08:00","created_by":"PV"}]}
{"id":"clawbuddy-hiy","title":"pyproject.toml + package skeleton with typer entry point","description":"Create pyproject.toml with deps (typer, pynacl, httpx). Create src/clawbuddy/ with __init__.py, __main__.py, stub cli.py with typer app. This is the foundation everything else depends on.","status":"closed","priority":1,"issue_type":"task","owner":"peter@vessenes.com","created_at":"2026-02-10T15:33:39.17185-08:00","created_by":"PV","updated_at":"2026-02-10T15:41:05.624641-08:00","closed_at":"2026-02-10T15:41:05.624641-08:00","close_reason":"pyproject.toml, __init__, __main__, cli.py stub all working — uv run clawbuddy --help shows all 6 commands"}
{"id":"clawbuddy-hn0","title":"invite.tmpl — instructions page for receiving assistant","description":"Template file with instructions that a receiving assistant reads when visiting the invite URL. Contains: explanation of the protocol, instructions to run 'clawbuddy accept \u003curl\u003e', the public key and channel ID embedded in the template. This is a .tmpl text file per project conventions.","status":"closed","priority":2,"issue_type":"task","owner":"peter@vessenes.com","created_at":"2026-02-10T15:34:09.480731-08:00","created_by":"PV","updated_at":"2026-02-10T15:42:25.497327-08:00","closed_at":"2026-02-10T15:42:25.497327-08:00","close_reason":"All modules implemented and importing cleanly. Crypto roundtrip verified. Worker written with KV routes.","dependencies":[{"issue_id":"clawbuddy-hn0","depends_on_id":"clawbuddy-hiy","type":"blocks","created_at":"2026-02-10T15:34:21.704325-08:00","created_by":"PV"}]}
{"id":"clawbuddy-llp","title":"cli.py — wire up all CLI commands","description":"Typer CLI with commands: add \u003cphone\u003e, check, send \u003cchannel\u003e \u003cmessage\u003e, channels, accept \u003curl\u003e, reinvite \u003cphone\u003e. Wires together crypto, config, mailbox, schema, send modules. All commands output JSON by default, --pretty for human-readable. add: generate keypair, create channel entry, build invite URL, send via iMessage. check: poll all channels for messages, decrypt, display. send: encrypt and post. channels: list from channels.json. accept: fetch invite URL, generate keypair, post handshake. reinvite: rotate keys, new channel, mark old as superseded.","status":"closed","priority":1,"issue_type":"task","owner":"peter@vessenes.com","created_at":"2026-02-10T15:34:06.710333-08:00","created_by":"PV","updated_at":"2026-02-10T15:43:32.053751-08:00","closed_at":"2026-02-10T15:43:32.053751-08:00","close_reason":"All 6 CLI commands fully wired: add, check, send, channels, accept, reinvite. JSON output default, --pretty flag works. Verified with uv run.","dependencies":[{"issue_id":"clawbuddy-llp","depends_on_id":"clawbuddy-c6l","type":"blocks","created_at":"2026-02-10T15:34:21.266863-08:00","created_by":"PV"},{"issue_id":"clawbuddy-llp","depends_on_id":"clawbuddy-my0","type":"blocks","created_at":"2026-02-10T15:34:21.353967-08:00","created_by":"PV"},{"issue_id":"clawbuddy-llp","depends_on_id":"clawbuddy-lsn","type":"blocks","created_at":"2026-02-10T15:34:21.440027-08:00","created_by":"PV"},{"issue_id":"clawbuddy-llp","depends_on_id":"clawbuddy-1zl","type":"blocks","created_at":"2026-02-10T15:34:21.529571-08:00","created_by":"PV"},{"issue_id":"clawbuddy-llp","depends_on_id":"clawbuddy-nat","type":"blocks","created_at":"2026-02-10T15:34:21.615534-08:00","created_by":"PV"}]}
{"id":"clawbuddy-lsn","title":"schema.py — message schema with unsafe_* fields","description":"Wire format: {channel_id, seq, payload (base64 encrypted)}. Decrypted format: {unsafe_subject, unsafe_body, unsafe_metadata}. Use dataclasses or simple dicts. Functions to serialize/deserialize both wire and decrypted formats. The unsafe_ prefix signals prompt-injection-aware fields.","status":"closed","priority":1,"issue_type":"task","owner":"peter@vessenes.com","created_at":"2026-02-10T15:33:52.341551-08:00","created_by":"PV","updated_at":"2026-02-10T15:42:25.491313-08:00","closed_at":"2026-02-10T15:42:25.491313-08:00","close_reason":"All modules implemented and importing cleanly. Crypto roundtrip verified. Worker written with KV routes.","dependencies":[{"issue_id":"clawbuddy-lsn","depends_on_id":"clawbuddy-hiy","type":"blocks","created_at":"2026-02-10T15:34:21.005323-08:00","created_by":"PV"}]}
{"id":"clawbuddy-my0","title":"config.py — channel state management in ~/.config/clawbuddy/","description":"Manage config dir at ~/.config/clawbuddy/. Load/save channels.json (dict keyed by channel_id). Store private keys in keys/\u003cchannel_id\u003e.key. Load config.toml for mailbox endpoint. Channel statuses: pending, active, superseded. Functions: load_channels, save_channels, save_private_key, load_private_key, get_config_dir, get_mailbox_url.","status":"closed","priority":1,"issue_type":"task","owner":"peter@vessenes.com","created_at":"2026-02-10T15:33:49.273011-08:00","created_by":"PV","updated_at":"2026-02-10T15:42:25.489703-08:00","closed_at":"2026-02-10T15:42:25.489703-08:00","close_reason":"All modules implemented and importing cleanly. Crypto roundtrip verified. Worker written with KV routes.","dependencies":[{"issue_id":"clawbuddy-my0","depends_on_id":"clawbuddy-hiy","type":"blocks","created_at":"2026-02-10T15:34:20.919682-08:00","created_by":"PV"}]}
{"id":"clawbuddy-nat","title":"send.py — iMessage sending via osascript","description":"Send iMessage via macOS osascript/AppleScript. Function: send_imessage(phone, message). Uses subprocess to call osascript. Depends on macOS. Used by 'clawbuddy add' to text invite links.","status":"closed","priority":1,"issue_type":"task","owner":"peter@vessenes.com","created_at":"2026-02-10T15:33:57.633724-08:00","created_by":"PV","updated_at":"2026-02-10T15:42:25.495174-08:00","closed_at":"2026-02-10T15:42:25.495174-08:00","close_reason":"All modules implemented and importing cleanly. Crypto roundtrip verified. Worker written with KV routes.","dependencies":[{"issue_id":"clawbuddy-nat","depends_on_id":"clawbuddy-hiy","type":"blocks","created_at":"2026-02-10T15:34:21.179268-08:00","created_by":"PV"}]}
{"id":"clawbuddy-s15","title":"worker/ — Cloudflare Worker with KV-backed mailbox","description":"Cloudflare Worker in worker/src/index.js with wrangler.toml. REST API: PUT /channel/:id/handshake (post responder pubkey), GET /channel/:id/handshake (poll), POST /channel/:id/messages (post encrypted blob), GET /channel/:id/messages (poll), DELETE /channel/:id/messages/:seq (ack). KV-backed with TTLs. Worker sees only opaque blobs. Include wrangler.toml with KV namespace binding.","status":"closed","priority":2,"issue_type":"task","owner":"peter@vessenes.com","created_at":"2026-02-10T15:34:13.056438-08:00","created_by":"PV","updated_at":"2026-02-10T15:42:25.498997-08:00","closed_at":"2026-02-10T15:42:25.498997-08:00","close_reason":"All modules implemented and importing cleanly. Crypto roundtrip verified. Worker written with KV routes."}
